<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ™‹ãƒãƒ«ã‚µãƒ³ch</title>

  <style>
    :root{
      --bg1:#667eea;
      --bg2:#764ba2;
      --card: rgba(255,255,255,0.92);
      --card2: rgba(255,255,255,0.10);
      --text:#1f2937;
      --muted:#6b7280;
      --border: rgba(17,24,39,0.12);
      --shadow: 0 18px 50px rgba(0,0,0,0.18);
      --shadow2: 0 10px 30px rgba(0,0,0,0.14);
      --radius: 18px;
      --radius-lg: 26px;
      --accent: #667eea;
      --accent2:#ff6b6b;
      --max: 1100px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic UI", "Meiryo", Arial, sans-serif;
      line-height:1.6;
      color:var(--text);
      min-height:100vh;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.18), transparent 55%),
        radial-gradient(1000px 520px at 90% 20%, rgba(255,255,255,0.10), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
    }

    a{ color:inherit; }
    .container{
      width: min(var(--max), calc(100% - 32px));
      margin-inline:auto;
    }

    /* Header / Nav */
    header{
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(255,255,255,0.10);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,0.18);
    }

    nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 12px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      color: #fff;
      text-decoration:none;
      font-weight: 800;
      letter-spacing: 0.02em;
      white-space:nowrap;
    }
    .brand span{
      font-size: clamp(14px, 1.5vw, 16px);
      opacity: 0.95;
    }

    .nav-links{
      display:flex;
      flex-wrap:wrap;
      justify-content:flex-end;
      gap: 8px;
      margin:0;
      padding:0;
      list-style:none;
    }
    .nav-links a{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      text-decoration:none;
      color:#fff;
      font-weight: 700;
      font-size: 14px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      transition: transform .15s ease, background .15s ease;
    }
    .nav-links a:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.14);
    }

    /* Hero */
    .hero{
      padding: clamp(40px, 6vw, 72px) 0;
      color:#fff;
      text-align:center;
    }
    .hero h1{
      margin: 0 0 10px;
      font-size: clamp(30px, 4.2vw, 54px);
      line-height: 1.1;
      text-shadow: 0 10px 30px rgba(0,0,0,0.25);
      letter-spacing: 0.02em;
    }
    .hero p{
      margin: 0 auto 20px;
      max-width: 52ch;
      opacity: 0.92;
      font-size: clamp(14px, 1.6vw, 18px);
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 12px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.16);
      color:#fff;
      text-decoration:none;
      font-weight: 800;
      box-shadow: 0 12px 30px rgba(0,0,0,0.18);
      transition: transform .15s ease, background .15s ease;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.22);
    }

    /* Section shell */
    .section{
      padding: 18px 0 34px;
    }

    /* Cards */
    .panel{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .panel-header{
      padding: 18px 18px 10px;
    }
    .panel-header h2{
      margin: 0;
      font-size: clamp(18px, 2.2vw, 22px);
      letter-spacing: 0.01em;
    }
    .panel-body{
      padding: 0 18px 18px;
    }
    .help{
      margin: 8px 0 0;
      color: var(--muted);
      font-size: 13px;
    }

    /* TTS */
    .tts-input{
      width:100%;
      min-height: 120px;
      padding: 12px 12px;
      font-size: 16px;
      line-height: 1.55;
      border: 1px solid rgba(17,24,39,0.18);
      border-radius: 14px;
      resize: vertical;
      outline: none;
      background: #fff;
    }
    .tts-input:focus{
      border-color: rgba(102,126,234,0.55);
      box-shadow: 0 0 0 4px rgba(102,126,234,0.15);
    }

    .controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin: 14px 0 14px;
    }

    .control{
      background: rgba(102,126,234,0.07);
      border: 1px solid rgba(102,126,234,0.18);
      border-radius: 16px;
      padding: 12px;
    }
    .control .row{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap: 10px;
      margin-bottom: 8px;
    }
    .control label{
      font-weight: 800;
      font-size: 13px;
      color: rgba(17,24,39,0.86);
    }
    .control .val{
      font-variant-numeric: tabular-nums;
      color: rgba(17,24,39,0.70);
      font-size: 13px;
      white-space:nowrap;
    }
    .control input[type="range"]{
      width:100%;
    }

    .btn-primary{
      width:100%;
      border: none;
      background: linear-gradient(135deg, #6a7cff, #6b4bbd);
      color:#fff;
      padding: 14px 16px;
      border-radius: 16px;
      font-weight: 900;
      font-size: 16px;
      cursor:pointer;
      box-shadow: 0 12px 30px rgba(102,126,234,0.25);
      transition: transform .12s ease, filter .12s ease;
    }
    .btn-primary:hover{ transform: translateY(-1px); filter: brightness(1.02); }
    .btn-primary:disabled{
      cursor:not-allowed;
      filter: grayscale(0.5);
      opacity: 0.7;
      transform:none;
      box-shadow:none;
    }

    #audio-player{
      width:100%;
      margin-top: 12px;
    }

    .loading{
      display:none;
      margin-top: 10px;
      color: rgba(102,126,234,0.95);
      font-size: 13px;
      font-weight: 700;
    }
    #status{
      margin-top: 10px;
      font-size: 14px;
      color: rgba(17,24,39,0.85);
      word-break: break-word;
    }

    /* Content grid */
    .section-title{
      margin: 0 0 14px;
      color:#fff;
      text-align:center;
      font-size: clamp(18px, 2.4vw, 24px);
      letter-spacing: 0.01em;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }
    .card{
      grid-column: span 6;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(255,255,255,0.35);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .card h3{
      margin:0;
      padding: 12px 14px;
      background: linear-gradient(135deg, rgba(102,126,234,0.95), rgba(118,75,162,0.95));
      color:#fff;
      font-size: 15px;
      letter-spacing: 0.01em;
    }
    .card p{
      margin:0;
      padding: 12px 14px 14px;
      color: rgba(17,24,39,0.82);
      font-size: 14px;
    }

    .media{
      position:relative;
      width:100%;
      aspect-ratio: 16 / 9;
      background: #0b1020;
    }
    .media iframe{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
    }

    /* Membership */
    .membership{
      margin-top: 18px;
      background: linear-gradient(135deg, rgba(255,107,107,0.92), rgba(255,107,107,0.78));
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: var(--radius-lg);
      color:#fff;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .membership .inner{
      padding: 18px;
      text-align:center;
    }
    .membership h2{
      margin:0 0 8px;
      font-size: clamp(18px, 2.2vw, 22px);
    }
    .membership p{
      margin: 0 0 14px;
      opacity: 0.95;
      font-size: 14px;
    }
    .membership .btn-secondary{
      border: 1px solid rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.16);
      color:#fff;
      padding: 12px 16px;
      border-radius: 999px;
      font-weight: 900;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease;
    }
    .membership .btn-secondary:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.22);
    }

    footer{
      padding: 22px 0 34px;
      text-align:center;
      color: rgba(255,255,255,0.82);
      font-size: 13px;
    }

    /* Responsive */
    @media (max-width: 820px){
      .card{ grid-column: span 12; }
      nav{ justify-content:center; }
      .brand{ display:none; }
      .nav-links{ justify-content:center; }
    }

    @media (max-width: 560px){
      .controls{ grid-template-columns: 1fr; }
      .container{ width: min(var(--max), calc(100% - 24px)); }
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      *{ transition:none !important; }
    }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <nav aria-label="Site navigation">
        <a class="brand" href="#home" aria-label="Home">
          <span>æ™‹ãƒãƒ«ã‚µãƒ³ch</span>
        </a>

        <ul class="nav-links">
          <li><a href="#home">Home</a></li>
          <li><a href="#tts">ãƒœã‚¤ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼</a></li>
          <li><a href="#content">ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</a></li>
          <li><a href="#membership">ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section id="home" class="hero">
      <div class="container">
        <h1>æ™‹ãƒãƒ«ã‚µãƒ³ch</h1>
        <p>æœ€æ–°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ãƒœã‚¤ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼ã‚’ã€ã‚¹ãƒãƒ›ã§ã‚‚è¦‹ã‚„ã™ãã¾ã¨ã‚ãŸãƒãƒ¼ã‚¿ãƒ«ã€‚</p>
        <a class="btn" href="#tts">ä»Šã™ãè©¦ã™</a>
      </div>
    </section>

    <section id="tts" class="section">
      <div class="container">
        <div class="panel">
          <div class="panel-header">
            <h2>ğŸ¤ å®‰å€AIãƒœã‚¤ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼</h2>
            <p class="help">ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ã€Œåˆæˆç”Ÿæˆã€ã‚’æŠ¼ã™ã ã‘ï¼ˆæ©Ÿèƒ½ã¯å¤‰æ›´ã—ã¦ã„ã¾ã›ã‚“ï¼‰ã€‚</p>
          </div>

          <div class="panel-body">
            <textarea
              id="text-input"
              class="tts-input"
              placeholder="ã“ã“ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›... ä¾‹: ã§ããªã„ç†ç”±ã‚’è€ƒãˆã‚‹ã®ã§ã¯ãªãï¼"
            ></textarea>

            <div class="controls" role="group" aria-label="Voice controls">
              <div class="control">
                <div class="row">
                  <label for="speed">é€Ÿåº¦</label>
                  <div class="val"><span id="speed-val">1.0</span></div>
                </div>
                <input type="range" id="speed" min="0.5" max="2.0" step="0.1" value="1.0" />
              </div>

              <div class="control">
                <div class="row">
                  <label for="pitch">ãƒ”ãƒƒãƒ</label>
                  <div class="val"><span id="pitch-val">0.0</span></div>
                </div>
                <input type="range" id="pitch" min="-0.5" max="0.5" step="0.1" value="0.0" />
              </div>
            </div>

            <button id="generate-btn" class="btn-primary" type="button">åˆæˆç”Ÿæˆ</button>
            <div id="loading" class="loading">åˆæˆä¸­...ï¼ˆæ•°ç§’ãŠå¾…ã¡ãã ã•ã„ï¼‰</div>

            <audio id="audio-player" controls></audio>
            <div id="status" aria-live="polite"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="content" class="section">
      <div class="container">
        <h2 class="section-title">ğŸ“º è‡ªå‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç´¹ä»‹</h2>

        <div class="grid" aria-label="Content grid">
          <article class="card">
            <div class="media">
              <iframe src="https://www.youtube.com/embed/YOUR_VIDEO_ID?autoplay=0" title="YouTube Video 1" allowfullscreen></iframe>
            </div>
            <h3>YouTube: å®‰å€AIå‹•ç”»é›†</h3>
            <p>å®‰å€èªéŒ²ã‚’AIãƒœã‚¤ã‚¹ã§å†ç¾ï¼</p>
          </article>

          <article class="card">
            <div class="media">
              <iframe src="https://www.youtube.com/embed/YOUR_VIDEO_ID2" title="YouTube Video 2" allowfullscreen></iframe>
            </div>
            <h3>YouTube: æ”¿æ²»ãƒˆãƒ¼ã‚¯</h3>
            <p>æœ€æ–°æ”¿æ²»ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å®‰å€é¢¨è§£èª¬ã€‚</p>
          </article>

          <article class="card">
            <div class="media">
              <!-- Xã®åŸ‹ã‚è¾¼ã¿ã¯ç”¨é€”ã«å¿œã˜ã¦å·®ã—æ›¿ãˆæ¨å¥¨ï¼ˆç¾çŠ¶ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ï¼‰ -->
              <iframe src="https://platform.twitter.com/widgets/tweet_button.html" title="X embed"></iframe>
            </div>
            <h3>X (Twitter): æœ€æ–°ãƒã‚¹ãƒˆ</h3>
            <p><a href="https://x.com/YOUR_X_HANDLE" target="_blank" rel="noopener noreferrer">ãƒ•ã‚©ãƒ­ãƒ¼</a>ã§æ›´æ–°é€šçŸ¥ã€‚</p>
          </article>
        </div>
      </div>
    </section>

    <section id="membership" class="section">
      <div class="container">
        <div class="membership">
          <div class="inner">
            <h2>ğŸ’ ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ï¼ˆè¿‘æ—¥å…¬é–‹ï¼‰</h2>
            <p>ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒœã‚¤ã‚¹/é™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„/ã‚°ãƒƒã‚ºå…ˆè¡Œè²©å£²ï¼ˆStripeæ±ºæ¸ˆã§æœˆé¡Â¥500ã€œï¼‰</p>
            <button class="btn-secondary" type="button" onclick="alert('è¿‘æ—¥å…¬é–‹äºˆå®šï¼ Stripeçµ±åˆä¸­...')">å‚åŠ äºˆç´„</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 AbeShinzo Voice Portal. Powered by AivisSpeech-Engine.</p>
    </div>
  </footer>

  <script>
    // TTS API (Vercel/Netlify Serverless or Fly.io ãƒ—ãƒ­ã‚­ã‚·)
    const API_URL = '/api/tts';
    // const API_URL = 'https://abeshinzo0708-abe-voice-server.hf.space';

    // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
    document.getElementById('speed').addEventListener('input', (e) => {
      document.getElementById('speed-val').textContent = e.target.value;
    });
    document.getElementById('pitch').addEventListener('input', (e) => {
      document.getElementById('pitch-val').textContent = e.target.value;
    });

    // ç”Ÿæˆãƒœã‚¿ãƒ³
    document.getElementById('generate-btn').addEventListener('click', async () => {
      const text = document.getElementById('text-input').value.trim();
      if (!text) return alert('ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');

      const btn = document.getElementById('generate-btn');
      const loading = document.getElementById('loading');
      const status = document.getElementById('status');
      const player = document.getElementById('audio-player');

      btn.disabled = true;
      loading.style.display = 'block';
      status.textContent = '';

      try {
        const start = performance.now();
        const response = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            text,
            speaker: 1099527840,  // AbeShinzo ID
            speed: parseFloat(document.getElementById('speed').value),
            pitch: parseFloat(document.getElementById('pitch').value)
          })
        });

        if (!response.ok) throw new Error(`APIã‚¨ãƒ©ãƒ¼: ${response.status}`);

        const blob = await response.blob();
        const url = URL.createObjectURL(blob);
        player.src = url;
        player.play();

        const elapsed = (performance.now() - start) / 1000;
        status.innerHTML = `<strong>âœ… åˆæˆå®Œäº†! (${elapsed.toFixed(2)}s)</strong>`;
      } catch (error) {
        status.textContent = `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`;
      } finally {
        btn.disabled = false;
        loading.style.display = 'none';
      }
    });

    // ã‚¹ãƒ ãƒ¼ã‚¹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆHTMLå´ã§ scroll-behavior ã‚‚å…¥ã‚Œã¦ã„ã‚‹ãŒã€æ—¢å­˜æŒ™å‹•ã‚’ç¶­æŒï¼‰
    document.querySelectorAll('nav a').forEach(anchor => {
      anchor.addEventListener('click', (e) => {
        const href = anchor.getAttribute('href');
        if (!href || !href.startsWith('#')) return;
        e.preventDefault();
        document.querySelector(href)?.scrollIntoView({ behavior: 'smooth' });
      });
    });
  </script>
</body>
</html>
