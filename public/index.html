<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®‰å€AIãƒœã‚¤ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼ğŸº</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; line-height: 1.6; color: #333; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        header { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 1rem 2rem; position: sticky; top: 0; z-index: 100; }
        nav { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; }
        nav a { color: white; text-decoration: none; font-weight: bold; padding: 0.5rem 1rem; border-radius: 25px; transition: background 0.3s; }
        nav a:hover { background: rgba(255,255,255,0.2); }
        .hero { text-align: center; padding: 4rem 2rem; color: white; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .hero p { font-size: 1.2rem; max-width: 600px; margin: 0 auto 2rem; }
        .tts-section { background: white; padding: 3rem 2rem; margin: 2rem auto; max-width: 800px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .tts-input { width: 100%; height: 120px; padding: 1rem; font-size: 1.1rem; border: 2px solid #ddd; border-radius: 10px; resize: vertical; margin-bottom: 1rem; }
        .controls { display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1rem; }
        .controls input, select { padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px; flex: 1; min-width: 100px; }
        button { background: #667eea; color: white; border: none; padding: 1rem 2rem; border-radius: 25px; font-size: 1.1rem; cursor: pointer; transition: transform 0.2s; }
        button:hover { transform: scale(1.05); }
        button:disabled { background: #ccc; cursor: not-allowed; transform: none; }
        #audio-player { width: 100%; margin-top: 1rem; }
        .content-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; max-width: 1200px; margin: 3rem auto; padding: 0 2rem; }
        .content-card { background: rgba(255,255,255,0.9); border-radius: 15px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: transform 0.3s; }
        .content-card:hover { transform: translateY(-10px); }
        .content-card iframe { width: 100%; height: 200px; border: none; }
        .content-card h3 { padding: 1rem; background: #667eea; color: white; }
        .content-card p { padding: 1rem; }
        .membership { background: #ff6b6b; color: white; text-align: center; padding: 3rem 2rem; margin: 3rem 0; border-radius: 20px; max-width: 600px; margin: 3rem auto; }
        footer { text-align: center; padding: 2rem; color: rgba(255,255,255,0.8); }
        .loading { display: none; text-align: center; color: #667eea; font-style: italic; }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="#home">ğŸ  Home</a>
            <a href="#tts">ğŸ¤ ãƒœã‚¤ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼</a>
            <a href="#content">ğŸ“º ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</a>
            <a href="#membership">ğŸ’ ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—</a>
        </nav>
    </header>

    <section id="home" class="hero">
        <h1>å®‰å€AIãƒœã‚¤ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼ğŸº</h1>
        <p>å®‰å€æ™‹ä¸‰ãƒ¢ãƒ‡ãƒ«ã§ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒªã‚¢ãƒ«ãƒœã‚¤ã‚¹ã«ï¼ YouTube/Xã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚‚ãƒã‚§ãƒƒã‚¯ã€‚å°†æ¥çš„ã«ã‚°ãƒƒã‚º&ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—å®Ÿè£…äºˆå®šã€‚</p>
        <a href="#tts" class="button">ä»Šã™ãè©¦ã™</a>
    </section>

    <section id="tts" class="tts-section">
        <h2>ğŸ¤ å®‰å€æ™‹ä¸‰ãƒœã‚¤ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼</h2>
        <textarea id="text-input" class="tts-input" placeholder="ã“ã“ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›... ä¾‹: ã§ããªã„ç†ç”±ã‚’è€ƒãˆã‚‹ã®ã§ã¯ãªãï¼"></textarea>
        <div class="controls">
            <input type="range" id="speed" min="0.5" max="2.0" step="0.1" value="1.0"><label>é€Ÿåº¦: <span id="speed-val">1.0</span></label>
            <input type="range" id="pitch" min="-0.5" max="0.5" step="0.1" value="0.0"><label>ãƒ”ãƒƒãƒ: <span id="pitch-val">0.0</span></label>
        </div>
        <button id="generate-btn">åˆæˆç”Ÿæˆ</button>
        <div id="loading" class="loading">åˆæˆä¸­... (æ•°ç§’ãŠå¾…ã¡ãã ã•ã„)</div>
        <audio id="audio-player" controls></audio>
        <div id="status"></div>
    </section>

    <section id="content" class="content-grid">
        <h2 style="grid-column: 1/-1; text-align: center; padding: 2rem;">ğŸ“º è‡ªå‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç´¹ä»‹</h2>
        <div class="content-card">
            <iframe src="https://www.youtube.com/embed/YOUR_VIDEO_ID?autoplay=0" title="YouTube Video 1"></iframe>
            <h3>YouTube: å®‰å€AIå‹•ç”»é›†</h3>
            <p>å®‰å€èªéŒ²ã‚’AIãƒœã‚¤ã‚¹ã§å†ç¾ï¼</p>
        </div>
        <div class="content-card">
            <iframe src="https://www.youtube.com/embed/YOUR_VIDEO_ID2" title="YouTube Video 2"></iframe>
            <h3>YouTube: æ”¿æ²»ãƒˆãƒ¼ã‚¯</h3>
            <p>æœ€æ–°æ”¿æ²»ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å®‰å€é¢¨è§£èª¬ã€‚</p>
        </div>
        <div class="content-card">
            <a href="https://x.com/YOUR_X_HANDLE" target="_blank">
                <iframe src="https://platform.twitter.com/widgets/tweet_button.html" style="border:none;"></iframe> <!-- X embed -->
            </a>
            <h3>X (Twitter): æœ€æ–°ãƒã‚¹ãƒˆ</h3>
            <p>ãƒ•ã‚©ãƒ­ãƒ¼ã§AIãƒœã‚¤ã‚¹æ›´æ–°é€šçŸ¥ï¼</p>
        </div>
    </section>

    <section id="membership" class="membership">
        <h2>ğŸ’ ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ— (è¿‘æ—¥å…¬é–‹)</h2>
        <p>ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒœã‚¤ã‚¹/é™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„/ã‚°ãƒƒã‚ºå…ˆè¡Œè²©å£²/Stripeæ±ºæ¸ˆã§æœˆé¡Â¥500ã€œ</p>
        <button onclick="alert('è¿‘æ—¥å…¬é–‹äºˆå®šï¼ Stripeçµ±åˆä¸­...')">å‚åŠ äºˆç´„</button>
    </section>

    <footer>
        <p>&copy; 2025 AbeShinzo Voice Portal. Powered by AivisSpeech-Engine.</p>
    </footer>

    <script>
        // TTS API (Vercel/Netlify Serverless or Fly.io ãƒ—ãƒ­ã‚­ã‚·)
        const API_URL = '/api/tts';
        // const API_URL = 'https://abeshinzo0708-abe-voice-server.hf.space';  // ç›¸å¯¾ãƒ‘ã‚¹ (ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ https://yoursite.com/api/tts)

        // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
        document.getElementById('speed').addEventListener('input', (e) => {
            document.getElementById('speed-val').textContent = e.target.value;
        });
        document.getElementById('pitch').addEventListener('input', (e) => {
            document.getElementById('pitch-val').textContent = e.target.value;
        });

        // ç”Ÿæˆãƒœã‚¿ãƒ³
        document.getElementById('generate-btn').addEventListener('click', async () => {
            const text = document.getElementById('text-input').value.trim();
            if (!text) return alert('ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');

            const btn = document.getElementById('generate-btn');
            const loading = document.getElementById('loading');
            const status = document.getElementById('status');
            const player = document.getElementById('audio-player');

            btn.disabled = true;
            loading.style.display = 'block';
            status.textContent = '';

            try {
                const start = performance.now();
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        text,
                        speaker: 1099527840,  // AbeShinzo ID
                        speed: parseFloat(document.getElementById('speed').value),
                        pitch: parseFloat(document.getElementById('pitch').value)
                    })
                });

                if (!response.ok) throw new Error(`APIã‚¨ãƒ©ãƒ¼: ${response.status}`);

                const blob = await response.blob();
                const url = URL.createObjectURL(blob);
                player.src = url;
                player.play();

                const elapsed = (performance.now() - start) / 1000;
                status.innerHTML = `<strong>âœ… åˆæˆå®Œäº†! (${elapsed.toFixed(2)}s)</strong>`;

            } catch (error) {
                status.textContent = `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`;
            } finally {
                btn.disabled = false;
                loading.style.display = 'none';
            }
        });

        // ã‚¹ãƒ ãƒ¼ã‚¹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelector(anchor.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>